<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="critters.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
  integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



<body>
  <div id="app">
    <div >
      <div class="w-100">
        <div style="background-color: white;" class="sticky">
          <div class="btn-group btn-group-toggle sticky">
            <button @click="filterBy='all'" class="btn btn-primary sticky"
              :class="{active: filterBy=='all'}">Both</button>
            <button @click="filterBy='fish'" class="btn btn-primary sticky"
              :class="{active: filterBy=='fish'}">Fish</button>
            <button @click="filterBy='bugs'" class="btn btn-primary sticky"
              :class="{active: filterBy=='bugs'}">Bugs</button>
          </div>
        </div>

        <table class="table table-striped">
          <thead>
            <tr>
              <th class="stickyheader">name</th>
              <th class="stickyheader">image</th>
              <th class="stickyheader">location</th>

              <th class="stickyheader">size</th>
              <th class="stickyheader">shadow</th>

            </tr>
          </thead>
          <tr v-for="critter in tableSort">

            <td> {{ critter.name }}</td>
            <td> <img :src="critter.url"></td>
            <td> {{ critter.location }}</td>
            <td>{{critter.size}} </td>

            <td> <img v-show="critter.type=='fish'" :src="critter.size.replace(' ','_').replace('(','').replace(')','')+'.png'" style="max-height:100px"></td>
          </tr>
        </table>
      </div>
      
    </div>

  </div>


</body>

<script>
  var app = new Vue({
    el: '#app',
    data: {
      message: 'Hello Vue!',
      critters: [],
      filterBy: 'all'
    },
    mounted: function () {
      this.critters = critterData.critters;
    },
    computed: {
      tableSort: function () {
        var tempTable = [];
        if (this.filterBy == 'all') {
          return this.critters;
        }
        for (var i = 0; i < this.critters.length; i++) {
          if (this.critters[i].type === this.filterBy) {
            tempTable.push(this.critters[i])
          }
        }
        return tempTable;

      }
    },
    methods: {
      openModal:function(id){
        $('#'+id).modal('toggle')

      }
    }
  })
</script>
<style>
  .sticky {
    position: -webkit-sticky;
    /* Safari */
    position: sticky;
    top: 0;
  }

  .stickyheader {
    position: -webkit-sticky;
    /* Safari */
    position: sticky;
    top: 37;
    background-color: silver;
  }

  


</style>